"use client";
import Image from "next/image";
import Link from "next/link";
import React, { useRef } from "react";
import { Swiper, SwiperSlide } from "swiper/react";
import "swiper/css";
import "swiper/css/free-mode";
import "swiper/css/pagination";

import { Navigation } from "swiper/modules";

const Posts = () => {
  const prevRef = useRef<HTMLButtonElement>(null);
  const nextRef = useRef<HTMLButtonElement>(null);
  return (
    <section>
      <div className="my-container flex gap-[20px] !pb-[23px]">
        <button
          ref={prevRef}
          className="border-[#d4d4d8] border rounded-[20px] p-[18px_24px]"
        >
          <svg
            className="rotate-180"
            width="12"
            height="21"
            viewBox="0 0 12 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.707437 0.707031L10.3691 10.3687L0.707436 20.0304"
              stroke="#2A2A3C"
              strokeWidth="2"
              strokeLinejoin="round"
            />
          </svg>
        </button>
        <button
          ref={nextRef}
          className="border-[#d4d4d8] border rounded-[20px] p-[18px_24px]"
        >
          <svg
            width="12"
            height="21"
            viewBox="0 0 12 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.707437 0.707031L10.3691 10.3687L0.707436 20.0304"
              stroke="#2A2A3C"
              strokeWidth="2"
              strokeLinejoin="round"
            />
          </svg>
        </button>
      </div>
      <div className="my-container flex overflow-x-scroll gap-[21px] no-scrollbar relative">
        <Swiper
          modules={[Navigation]}
          spaceBetween={20}
          slidesPerView={3}
          onBeforeInit={(swiper) => {
            // Привязываем кнопки к Swiper
            if (
              typeof swiper.params.navigation !== "boolean" &&
              swiper.params.navigation
            ) {
              swiper.params.navigation.prevEl = prevRef.current;
              swiper.params.navigation.nextEl = nextRef.current;
            }
          }}
          navigation={{
            prevEl: prevRef.current,
            nextEl: nextRef.current,
          }}
        >
          {[...Array(12)].map((item, i) => {
            return (i + 1) % 2 != 0 ? (
              <SwiperSlide key={i}>
                <div className="min-w-[420px] h-full bg-[#f0f0f0] p-[22px_18px] rounded-[20px] border border-white">
                  <div className="aspect-[38/34] w-full">
                    <Image
                      width={100}
                      height={100}
                      className="w-full h-full object-cover"
                      src="img/posts.png"
                      alt=""
                    />
                  </div>
                  <div className="flex pt-[18px] pb-[23px] justify-between">
                    <h5 className="font-(family-name:--second-family) text-bold text-[14px] text-[#213c49]">
                      Кирилл Кузнецов
                    </h5>

                    <span className="font-(family-name:--second-family) text-bold text-[12px] text-[#213c49] opacity-[0.6]">
                      Генеральный директор <br /> компании Русзкспорт
                    </span>
                  </div>
                  <p className="font-(family-name:--second-family) text-bold text-[14px] text-[#213c49]">
                    Клиент научился доверять HaloLab, благодаря их значительным
                    знаниям в области UI/UX-дизайна. Поставщик предоставил
                    ценную обратную связь, будучи всегда готовым к общению.
                    Более того, у них есть удовлетворительный процесс управления
                    проектами, который делает их процесс гладким и эффективным.
                  </p>
                </div>
              </SwiperSlide>
            ) : (
              <SwiperSlide key={i}>
                <div
                  key={i}
                  className="min-w-[420px]  bg-[#f0f0f0] p-[22px_18px] rounded-[20px] border border-white h-full"
                >
                  <div className="flex gap-[19px] items-center pb-[26px]">
                    <div className="w-[90px] h-[90px] rounded-full">
                      <Image
                        width={100}
                        height={100}
                        className="rounded-full h-full w-full"
                        src="img/posts.png"
                        alt=""
                      />
                    </div>
                    <div className="">
                      <h5 className="font-(family-name:--second-family) text-bold text-[14px] text-[#213c49]">
                        Кирилл Кузнецов
                      </h5>

                      <span className="font-(family-name:--second-family) !leading-[12px] text-bold text-[12px] text-[#213c49] opacity-[0.6]">
                        Генеральный директор <br /> компании Русзкспорт
                      </span>
                    </div>
                  </div>
                  <p className="font-(family-name:--second-family) text-bold text-[14px] text-[#213c49]">
                    Компания BrightDesign зарекомендовала себя как надежный
                    партнер благодаря своему глубокому пониманию принципов
                    UI/UX-дизайна. Они всегда открыты для диалога и
                    предоставляют ценную обратную связь. Кроме того, у них есть
                    эффективная система управления проектами, которая
                    обеспечивает плавное и продуктивное сотрудничество. Компания
                    BrightDesign зарекомендовала себя как надежный партнер
                    благодаря своему глубокому пониманию принципов
                    UI/UX-дизайна. Они всегда открыты для диалога и
                    предоставляют ценную обратную связь. Кроме того, у них есть
                    эффективная система управления проектами, которая
                    обеспечивает плавное и продуктивное сотрудничество. Компания
                    BrightDesign зарекомендовала себя как надежный партнер
                    благодаря своему глубокому пониманию принципов
                    UI/UX-дизайна. Они всегда пониманию принципов UI/UX-дизайна.
                    Они всегда пониманию принципов UI/UX-дизайна. Они всегда
                  </p>
                  <Link href={""} className="!underline block pt-[27px]">
                    Читать дальше
                  </Link>
                </div>
              </SwiperSlide>
            );
          })}
        </Swiper>{" "}
      </div>
    </section>
  );
};

export default Posts;
